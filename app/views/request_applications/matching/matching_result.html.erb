<h1><%= t('.title') %></h1>
<div class="row">
  <div class="row btn-row">
    <div class="col-lg-3">
      <%= label_tag t('activerecord.attributes.request_application.management_no') %>
      <%= @request_application.management_no %>
    </div>
    <div class="col-lg-9 text-right">
      <%= link_to t('.rerun'), matching_result_request_application_path(@request_application), class: 'btn btn-primary' %>
    </div>
  </div>

  <div class="table-responsive">
    <table class="table table-bordered table-hover">
      <colgroup>
        <col class="col-sm-2"/>
        <col class="col-sm-2"/>
        <col class="col-sm-4"/>
        <col class="col-sm-4"/>
      </colgroup>
      <thead>
        <tr>
          <th><%= label_tag t('.matching_result') %></th>
          <th><%= label_tag t('.matching_key') %></th>
          <th><%= label_tag t('.request_detail') %></th>
          <th><%= label_tag t('.matching_data') %></th>
        </tr>
      </thead>
      <tbody>
        <% @matching_results.each do |result| %>
          <tr>
            <td class="<%= 'unmatch' unless result[:match] %>">
              <%= result[:match] ? t('.match') : t('.unmatch') %>
            </td>
            <td><%= result[:key] %></td>
            <td><%= generate_edit_detail_link(result[:detail]&.html_safe, @request_application.id, result[:detail_id]) %></td>
            <td><%= result[:for_matching_data] %></td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
</div>
<div class="row">
  <%= link_to t('.back'), request_applications_path %>
</div>
